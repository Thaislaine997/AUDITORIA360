<!--
  ===================================================================
  ALERT CONTAINER COMPONENT - AUDITORIA 360
  ===================================================================
  Descrição: Componente reutilizável para exibição de alertas
  Versão: 2.0 - Enhanced with improved accessibility
  Uso: {{> alert-container context}}
  ===================================================================
-->
<section
  class="alerts-section {{sectionClass}}"
  role="region"
  aria-labelledby="alerts-title"
  data-alert-container="{{containerId}}"
>
  <header class="alerts-header">
    <h2 id="alerts-title" class="alerts-title">
      {{#if titleIcon}}<span class="alerts-icon" aria-hidden="true"
        >{{titleIcon}}</span
      >{{/if}} {{title}} {{#if alertCount}}
      <span class="alert-count" aria-label="{{alertCount}} alertas"
        >{{alertCount}}</span
      >
      {{/if}}
    </h2>
  </header>

  <div class="alerts-content">
    {{#if hasAlerts}} {{#each alerts}}
    <article
      class="alert-item alert-{{level}}"
      role="alert"
      aria-labelledby="alert-title-{{@index}}"
    >
      <header class="alert-header">
        <h3 id="alert-title-{{@index}}" class="alert-title">
          {{#if icon}}<span class="alert-icon" aria-hidden="true">{{icon}}</span
          >{{/if}} {{title}} {{#if severity}}<span class="alert-severity"
            >{{severity}}</span
          >{{/if}}
        </h3>
      </header>

      <div class="alert-body">
        <p class="alert-message">{{message}}</p>
        {{#if details}}
        <details class="alert-details">
          <summary>Ver detalhes</summary>
          <div class="alert-details-content">{{details}}</div>
        </details>
        {{/if}}
      </div>

      <footer class="alert-meta">
        {{#if timestamp}}
        <time
          class="alert-timestamp"
          datetime="{{timestamp}}"
          title="Horário do alerta"
        >
          {{timestampFormatted}}
        </time>
        {{/if}} {{#if source}}
        <span class="alert-source">Origem: {{source}}</span>
        {{/if}} {{#if actions}}
        <div class="alert-actions">
          {{#each actions}}
          <button
            type="button"
            class="alert-action alert-action-{{type}}"
            data-action="{{action}}"
          >
            {{text}}
          </button>
          {{/each}}
        </div>
        {{/if}}
      </footer>
    </article>
    {{/each}} {{else}}
    <div class="alert-container no-alerts" role="status">
      <div class="no-alerts-content">
        <span class="no-alerts-icon" aria-hidden="true">{{noAlertsIcon}}</span>
        <strong class="no-alerts-title">{{noAlertsMessage}}</strong>
        {{#if noAlertsSubtitle}}
        <p class="no-alerts-subtitle">{{noAlertsSubtitle}}</p>
        {{/if}}
      </div>
    </div>
    {{/if}}
  </div>
</section>
