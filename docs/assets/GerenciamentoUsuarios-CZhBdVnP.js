import{j as e,aA as C,d as o,e as r,aD as z,k as h,b6 as B,h as N,i as d,aI as P,aJ as V,aK as L,aL as g,aM as i,aN as R,a7 as J,o as A,S as M,I as T,aU as F,aW as H,D as K,r as O,s as q,G as l,O as m,z as u,H as j,J as p,K as t,P as Q}from"./mui-CJAnL3-O.js";import{r as c}from"./vendor-Cr2nE3UY.js";import{u as X}from"./index-BXWjdBQQ.js";import"./utils-Bo08wi2s.js";const ae=()=>{const{user:a}=X(),[S,n]=c.useState(!1),[_,b]=c.useState(null),[y,D]=c.useState(0),[f,G]=c.useState([{id:"1",nome:"João Admin",email:"admin@auditoria360.com",role:"super_admin",status:"ativo",ultimoAcesso:"2024-01-15"},{id:"2",nome:"Maria Gestora",email:"maria@alpha.com.br",role:"contabilidade",contabilidade:"Contabilidade Alpha",status:"ativo",ultimoAcesso:"2024-01-14"},{id:"3",nome:"Carlos Cliente",email:"carlos@empresa.com.br",role:"cliente_final",contabilidade:"Contabilidade Alpha",status:"ativo",ultimoAcesso:"2024-01-13"}]);if(!((a==null?void 0:a.role)==="super_admin"||(a==null?void 0:a.role)==="contabilidade"))return e.jsx(C,{maxWidth:"xl",children:e.jsxs(o,{sx:{textAlign:"center",mt:8},children:[e.jsx(r,{variant:"h5",color:"error",children:"Acesso Negado"}),e.jsx(r,{variant:"body1",color:"text.secondary",children:"Esta funcionalidade é restrita a Gestores e Super Administradores."})]})});const I=s=>{b(s),n(!0)},U=()=>{b(null),n(!0)},W=s=>{confirm("Tem certeza que deseja excluir este usuário?")&&G(x=>x.filter(k=>k.id!==s))},E=s=>{switch(s){case"super_admin":return"Super Admin";case"contabilidade":return"Gestor";case"cliente_final":return"Cliente";default:return s}},w=s=>{switch(s){case"super_admin":return"error";case"contabilidade":return"warning";case"cliente_final":return"info";default:return"default"}},v=(a==null?void 0:a.role)==="super_admin"?f:f.filter(s=>s.contabilidade===(a==null?void 0:a.name));return e.jsxs(C,{maxWidth:"xl",children:[e.jsxs(o,{sx:{mb:4},children:[e.jsx(r,{variant:"h4",component:"h1",gutterBottom:!0,children:"Gerenciamento de Usuários"}),e.jsx(r,{variant:"subtitle1",color:"text.secondary",children:(a==null?void 0:a.role)==="super_admin"?"Gerencie todos os usuários do sistema.":"Gerencie os usuários da sua contabilidade."})]}),e.jsxs(z,{sx:{p:3},children:[e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsxs(r,{variant:"h6",children:["Usuários Cadastrados (",v.length,")"]}),e.jsx(h,{variant:"contained",startIcon:e.jsx(B,{}),onClick:U,children:"Novo Usuário"})]}),e.jsxs(N,{value:y,onChange:(s,x)=>D(x),sx:{mb:3},children:[e.jsx(d,{label:"Todos"}),e.jsx(d,{label:"Administradores"}),e.jsx(d,{label:"Gestores"}),e.jsx(d,{label:"Clientes"})]}),e.jsx(P,{children:e.jsxs(V,{children:[e.jsx(L,{children:e.jsxs(g,{children:[e.jsx(i,{children:"Nome"}),e.jsx(i,{children:"Email"}),e.jsx(i,{children:"Tipo"}),(a==null?void 0:a.role)==="super_admin"&&e.jsx(i,{children:"Contabilidade"}),e.jsx(i,{children:"Status"}),e.jsx(i,{children:"Último Acesso"}),e.jsx(i,{align:"center",children:"Ações"})]})}),e.jsx(R,{children:v.map(s=>e.jsxs(g,{children:[e.jsx(i,{children:e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(J,{color:"primary"}),s.nome]})}),e.jsx(i,{children:s.email}),e.jsx(i,{children:e.jsx(A,{label:E(s.role),color:w(s.role),size:"small",icon:s.role==="super_admin"?e.jsx(M,{}):void 0})}),(a==null?void 0:a.role)==="super_admin"&&e.jsx(i,{children:s.contabilidade||"-"}),e.jsx(i,{children:e.jsx(A,{label:s.status,color:s.status==="ativo"?"success":"error",size:"small"})}),e.jsx(i,{children:new Date(s.ultimoAcesso).toLocaleDateString()}),e.jsxs(i,{align:"center",children:[e.jsx(T,{size:"small",color:"primary",onClick:()=>I(s.id),children:e.jsx(F,{})}),s.role!=="super_admin"&&e.jsx(T,{size:"small",color:"error",onClick:()=>W(s.id),children:e.jsx(H,{})})]})]},s.id))})]})})]}),e.jsxs(K,{open:S,onClose:()=>n(!1),maxWidth:"md",fullWidth:!0,children:[e.jsx(O,{children:_?"Editar Usuário":"Novo Usuário"}),e.jsx(q,{children:e.jsxs(l,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(l,{item:!0,xs:12,md:6,children:e.jsx(m,{fullWidth:!0,label:"Nome Completo",variant:"outlined"})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsx(m,{fullWidth:!0,label:"Email",type:"email",variant:"outlined"})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(u,{fullWidth:!0,children:[e.jsx(j,{children:"Tipo de Usuário"}),e.jsxs(p,{label:"Tipo de Usuário",defaultValue:"",children:[(a==null?void 0:a.role)==="super_admin"&&e.jsx(t,{value:"super_admin",children:"Super Admin"}),e.jsx(t,{value:"contabilidade",children:"Gestor"}),e.jsx(t,{value:"cliente_final",children:"Cliente"})]})]})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(u,{fullWidth:!0,children:[e.jsx(j,{children:"Contabilidade"}),e.jsxs(p,{label:"Contabilidade",defaultValue:"",children:[e.jsx(t,{value:"alpha",children:"Contabilidade Alpha"}),e.jsx(t,{value:"beta",children:"Beta Assessoria"})]})]})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsx(m,{fullWidth:!0,label:"Senha Temporária",type:"password",variant:"outlined"})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(u,{fullWidth:!0,children:[e.jsx(j,{children:"Status"}),e.jsxs(p,{label:"Status",defaultValue:"ativo",children:[e.jsx(t,{value:"ativo",children:"Ativo"}),e.jsx(t,{value:"inativo",children:"Inativo"})]})]})})]})}),e.jsxs(Q,{children:[e.jsx(h,{onClick:()=>n(!1),children:"Cancelar"}),e.jsx(h,{variant:"contained",onClick:()=>n(!1),children:"Salvar"})]})]})]})};export{ae as default};
//# sourceMappingURL=GerenciamentoUsuarios-CZhBdVnP.js.map
