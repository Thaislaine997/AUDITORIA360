{"version":3,"file":"GestaoContabilidades-DRwxtg87.js","sources":["../../src/pages/GestaoContabilidades.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport {\n  Container,\n  Typography,\n  Box,\n  Paper,\n  Button,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Chip,\n  IconButton,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  TextField,\n  Grid,\n} from \"@mui/material\";\nimport {\n  Add,\n  Edit,\n  Delete,\n  Business,\n  Visibility,\n} from \"@mui/icons-material\";\nimport { useAuthStore } from \"../stores/authStore\";\n\ninterface Contabilidade {\n  id: string;\n  nome: string;\n  cnpj: string;\n  responsavel: string;\n  email: string;\n  telefone: string;\n  clientesCount: number;\n  status: \"ativa\" | \"inativa\";\n}\n\nconst GestaoContabilidades: React.FC = () => {\n  const { user } = useAuthStore();\n  const [openDialog, setOpenDialog] = useState(false);\n  const [editingId, setEditingId] = useState<string | null>(null);\n\n  // Mock data - in real app this would come from API\n  const [contabilidades, setContabilidades] = useState<Contabilidade[]>([\n    {\n      id: \"1\",\n      nome: \"Contabilidade Alpha Ltda\",\n      cnpj: \"12.345.678/0001-90\",\n      responsavel: \"João Silva\",\n      email: \"joao@alpha.com.br\",\n      telefone: \"(11) 98765-4321\",\n      clientesCount: 25,\n      status: \"ativa\",\n    },\n    {\n      id: \"2\",\n      nome: \"Beta Assessoria Contábil\",\n      cnpj: \"98.765.432/0001-10\",\n      responsavel: \"Maria Santos\",\n      email: \"maria@beta.com.br\",\n      telefone: \"(11) 91234-5678\",\n      clientesCount: 18,\n      status: \"ativa\",\n    },\n  ]);\n\n  // Only Super Admin can access this page\n  if (user?.role !== \"super_admin\") {\n    return (\n      <Container maxWidth=\"xl\">\n        <Box sx={{ textAlign: \"center\", mt: 8 }}>\n          <Typography variant=\"h5\" color=\"error\">\n            Acesso Negado\n          </Typography>\n          <Typography variant=\"body1\" color=\"text.secondary\">\n            Esta funcionalidade é restrita a Super Administradores.\n          </Typography>\n        </Box>\n      </Container>\n    );\n  }\n\n  const handleEdit = (id: string) => {\n    setEditingId(id);\n    setOpenDialog(true);\n  };\n\n  const handleAdd = () => {\n    setEditingId(null);\n    setOpenDialog(true);\n  };\n\n  const handleDelete = (id: string) => {\n    if (confirm(\"Tem certeza que deseja excluir esta contabilidade?\")) {\n      setContabilidades(prev => prev.filter(c => c.id !== id));\n    }\n  };\n\n  return (\n    <Container maxWidth=\"xl\">\n      <Box sx={{ mb: 4 }}>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n          Gestão de Contabilidades\n        </Typography>\n        <Typography variant=\"subtitle1\" color=\"text.secondary\">\n          Gerencie todas as contabilidades e seus dados no sistema.\n        </Typography>\n      </Box>\n\n      <Paper sx={{ p: 3 }}>\n        <Box sx={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", mb: 3 }}>\n          <Typography variant=\"h6\">\n            Contabilidades Cadastradas\n          </Typography>\n          <Button\n            variant=\"contained\"\n            startIcon={<Add />}\n            onClick={handleAdd}\n          >\n            Nova Contabilidade\n          </Button>\n        </Box>\n\n        <TableContainer>\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCell>Nome</TableCell>\n                <TableCell>CNPJ</TableCell>\n                <TableCell>Responsável</TableCell>\n                <TableCell>Contato</TableCell>\n                <TableCell>Clientes</TableCell>\n                <TableCell>Status</TableCell>\n                <TableCell align=\"center\">Ações</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {contabilidades.map((contabilidade) => (\n                <TableRow key={contabilidade.id}>\n                  <TableCell>\n                    <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\n                      <Business color=\"primary\" />\n                      {contabilidade.nome}\n                    </Box>\n                  </TableCell>\n                  <TableCell>{contabilidade.cnpj}</TableCell>\n                  <TableCell>{contabilidade.responsavel}</TableCell>\n                  <TableCell>\n                    <Box>\n                      <Typography variant=\"body2\">{contabilidade.email}</Typography>\n                      <Typography variant=\"caption\" color=\"text.secondary\">\n                        {contabilidade.telefone}\n                      </Typography>\n                    </Box>\n                  </TableCell>\n                  <TableCell>{contabilidade.clientesCount}</TableCell>\n                  <TableCell>\n                    <Chip \n                      label={contabilidade.status}\n                      color={contabilidade.status === \"ativa\" ? \"success\" : \"error\"}\n                      size=\"small\"\n                    />\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton \n                      size=\"small\" \n                      color=\"primary\"\n                      onClick={() => handleEdit(contabilidade.id)}\n                    >\n                      <Edit />\n                    </IconButton>\n                    <IconButton size=\"small\" color=\"info\">\n                      <Visibility />\n                    </IconButton>\n                    <IconButton \n                      size=\"small\" \n                      color=\"error\"\n                      onClick={() => handleDelete(contabilidade.id)}\n                    >\n                      <Delete />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Paper>\n\n      {/* Dialog for add/edit */}\n      <Dialog open={openDialog} onClose={() => setOpenDialog(false)} maxWidth=\"md\" fullWidth>\n        <DialogTitle>\n          {editingId ? \"Editar Contabilidade\" : \"Nova Contabilidade\"}\n        </DialogTitle>\n        <DialogContent>\n          <Grid container spacing={2} sx={{ mt: 1 }}>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Nome da Contabilidade\"\n                variant=\"outlined\"\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"CNPJ\"\n                variant=\"outlined\"\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Responsável\"\n                variant=\"outlined\"\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Email\"\n                type=\"email\"\n                variant=\"outlined\"\n              />\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <TextField\n                fullWidth\n                label=\"Telefone\"\n                variant=\"outlined\"\n              />\n            </Grid>\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setOpenDialog(false)}>\n            Cancelar\n          </Button>\n          <Button variant=\"contained\" onClick={() => setOpenDialog(false)}>\n            Salvar\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Container>\n  );\n};\n\nexport default GestaoContabilidades;"],"names":["GestaoContabilidades","user","useAuthStore","openDialog","setOpenDialog","useState","editingId","setEditingId","contabilidades","setContabilidades","jsx","Container","jsxs","Box","Typography","handleEdit","id","handleAdd","handleDelete","prev","c","Paper","Button","Add","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","contabilidade","Business","Chip","IconButton","Edit","Visibility","Delete","Dialog","DialogTitle","DialogContent","Grid","TextField","DialogActions"],"mappings":"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"}